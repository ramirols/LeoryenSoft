---
import { Check, Zap, Rocket, MessageCircle, ShieldCheck } from "lucide-astro";

interface Feature {
    icon: "check" | "zap" | "rocket" | "message" | "shield";
    text: string;
}

interface Props {
    icon: any;
    badge?: string;
    title: string;
    price: string;
    features: Feature[];
    ctaText: string;
    ctaHref: string;
    highlight?: boolean;
}

const {
    icon: Icon,
    badge,
    title,
    price,
    features,
    ctaText,
    ctaHref,
    highlight = false,
} = Astro.props;

const iconMap = {
    check: Check,
    zap: Zap,
    rocket: Rocket,
    message: MessageCircle,
    shield: ShieldCheck,
};
---

<article
    class={`group relative rounded-2xl p-8 flex flex-col justify-between transition
    ${
        highlight
            ? "border-2 border-blue-600 shadow-lg hover:shadow-2xl hover:-translate-y-3"
            : "border bg-white shadow-sm hover:shadow-xl hover:-translate-y-2"
    }
  `}
>
    {
        badge && (
            <span
                class={`absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1 text-sm rounded-full
        ${highlight ? "bg-blue-600 text-white" : "bg-blue-50 text-blue-600"}
      `}
            >
                {badge}
            </span>
        )
    }

    <Icon class="w-12 h-12 text-blue-600 mb-6" />

    <h3 class="text-2xl font-bold mb-4 text-gray-900">{title}</h3>
    <p class="text-4xl font-extrabold mb-6 text-gray-900">{price}</p>

    <ul class="space-y-3 text-gray-600 mb-8">
        {
            features.map((feature) => {
                const FeatureIcon = iconMap[feature.icon];
                return (
                    <li class="flex gap-2">
                        <FeatureIcon class="w-5 h-5 text-green-500" />
                        {feature.text}
                    </li>
                );
            })
        }
    </ul>

    <a
        href={ctaHref}
        class={`block text-center rounded-xl py-3 font-semibold transition
      ${
          highlight
              ? "bg-blue-600 text-white hover:bg-blue-700"
              : "bg-gray-900 text-white hover:bg-gray-800"
      }
    `}
    >
        {ctaText}
    </a>
</article>
