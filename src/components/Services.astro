---
import {
    Laptop,
    Code,
    Boxes,
    Check,
    Zap,
    Rocket,
    MessageCircle,
    ShieldCheck,
    Phone,
} from "lucide-astro";

import ServiceCard from "./ServiceCard.astro";
import { servicesData } from "../data/services";

interface Props {
    lang?: "es" | "en";
    onlyFeatured?: boolean;
}

const { lang = "es", onlyFeatured = false } = Astro.props;

const t = {
    es: {
        sectionTitle: "Planes y precios de nuestros servicios",
        sectionDesc:
            "Estos son nuestros servicios más contratados. Todos incluyen optimización SEO, alto rendimiento y soporte profesional.",
        badges: {
            starter: "Ideal para emprendedores",
            popular: "Más vendido",
            business: "Empresas",
        },
        prices: {
            starter: "$199 USD",
            popular: "$499 USD",
            premium: "Desde $999",
        },
        features: {
            responsive: "Diseño moderno y responsive",
            seoBasic: "SEO básico optimizado",
            seoAdvanced: "SEO avanzado",
            speed: "Velocidad optimizada",
            contact: "Formulario de contacto",
            custom: "Desarrollo personalizado",
            automation: "Automatizaciones",
            scale: "Escalabilidad",
            support: "Soporte prioritario",
        },
        ctaStart: "Comenzar ahora",
        ctaAll: "Ver todos los servicios",
    },
    en: {
        sectionTitle: "Service plans & pricing",
        sectionDesc:
            "These are our most popular services. All include SEO optimization, high performance and professional support.",
        badges: {
            starter: "Perfect for startups",
            popular: "Best seller",
            business: "Businesses",
        },
        prices: {
            starter: "$199 USD",
            popular: "$499 USD",
            premium: "From $999",
        },
        features: {
            responsive: "Modern & responsive design",
            seoBasic: "Basic SEO optimization",
            seoAdvanced: "Advanced SEO",
            speed: "Optimized performance",
            contact: "Contact form",
            custom: "Custom development",
            automation: "Automations",
            scale: "Scalability",
            support: "Priority support",
        },
        ctaStart: "Get started",
        ctaAll: "View all services",
    },
}[lang];

const plans = servicesData[lang];
---

<section id="planes-precios" class="bg-white py-24">
    <div class="max-w-6xl mx-auto px-6">
        <header class="text-center mb-20">
            <h2 class="text-4xl font-extrabold text-gray-900">
                {t.sectionTitle}
            </h2>
            <p class="text-gray-600 mt-4 max-w-2xl mx-auto">
                {t.sectionDesc}
            </p>
        </header>

        <div class="grid gap-10 md:grid-cols-3">
            <!-- STARTER -->
            <ServiceCard
                icon={Laptop}
                badge={t.badges.starter}
                title={plans[0].nombre}
                price={t.prices.starter}
                features={[
                    { icon: "check", text: t.features.responsive },
                    { icon: "zap", text: t.features.seoBasic },
                    { icon: "rocket", text: t.features.speed },
                    { icon: "message", text: t.features.contact },
                ]}
                ctaText={t.ctaStart}
                ctaHref={`/${lang}#contacto`}
            />

            <!-- POPULAR -->
            <ServiceCard
                icon={Code}
                badge={t.badges.popular}
                title={plans[1].nombre}
                price={t.prices.popular}
                highlight
                features={[
                    { icon: "check", text: t.features.responsive },
                    { icon: "zap", text: t.features.seoAdvanced },
                    { icon: "rocket", text: t.features.speed },
                    { icon: "message", text: t.features.contact },
                ]}
                ctaText={t.ctaStart}
                ctaHref={`/${lang}#contacto`}
            />

            <!-- PREMIUM -->
            <ServiceCard
                icon={Boxes}
                badge={t.badges.business}
                title={plans[2].nombre}
                price={t.prices.premium}
                features={[
                    { icon: "check", text: t.features.custom },
                    { icon: "zap", text: t.features.automation },
                    { icon: "rocket", text: t.features.scale },
                    { icon: "shield", text: t.features.support },
                ]}
                ctaText={t.ctaAll}
                ctaHref={`/${lang}/servicios`}
            />

            <!-- Aplicaciones móviles -->
            <ServiceCard
                icon={Phone}
                badge={t.badges.business}
                title={plans[3].nombre}
                price={t.prices.premium}
                features={[
                    { icon: "check", text: t.features.custom },
                    { icon: "zap", text: t.features.automation },
                    { icon: "rocket", text: t.features.scale },
                    { icon: "shield", text: t.features.support },
                ]}
                ctaText={t.ctaAll}
                ctaHref={`/${lang}/servicios`}
            />
        </div>
    </div>
</section>